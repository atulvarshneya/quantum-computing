================================================
Composing circuits from subcircuits ============
================================================

subcircuit--------------------------------------
q000 -[H]-[.]--#-
           |   # 
q001 -----[X]--#-
               # 
creg ==========#=
               # 
H:[0]
CX:[0, 1]
BORDER
subcircuit with QFT ----------------------------
q000 -[QFT  ]-----[Y]------#-
      |     |              # 
q001 -|-----|--------------#-
      |     |              # 
q002 -[QFT M]-[X]----------#-
      |     |              # 
q003 -[QFT L]---------[Z]--#-
                           # 
creg ======================#=
                           # 
QFT:[2, 0, 3]
X:[2]
Y:[0]
Z:[3]
BORDER
fragment of the final circuit-------------------
q000 ----------#-
               # 
q001 ----------#-
               # 
q002 -[M]------#-
       |       # 
q003 --|--[M]--#-
       |   |   # 
creg ==v===v===#=
               # 
M:[2, 3]-->[2, 3]
BORDER
realigned subcircuit----------------------------
q000 ----------#-
               # 
q001 ----------#-
               # 
q002 -[H]-[.]--#-
           |   # 
q003 -----[X]--#-
               # 
creg ==========#=
               # 
H:[2]
CX:[2, 3]
BORDER
realigned subcircuit----------------------------
q000 ----------------------#-
                           # 
q001 -[QFT L]---------[Z]--#-
      |     |              # 
q002 -[QFT  ]-----[Y]------#-
      |     |              # 
q003 -[QFT M]-[X]----------#-
                           # 
creg ======================#=
                           # 
QFT:[3, 2, 1]
X:[3]
Y:[2]
Z:[1]
BORDER
Overall circuit---------------------------------
q000 ----------#----------------------#----------#-
               #                      #          # 
q001 ----------#-[QFT L]---------[Z]--#----------#-
               # |     |              #          # 
q002 -[H]-[.]--#-[QFT  ]-----[Y]------#-[M]------#-
           |   # |     |              #  |       # 
q003 -----[X]--#-[QFT M]-[X]----------#--|--[M]--#-
               #                      #  |   |   # 
creg ==========#======================#==v===v===#=
               #                      #          # 
H:[2]
CX:[2, 3]
BORDER
QFT:[3, 2, 1]
X:[3]
Y:[2]
Z:[1]
BORDER
M:[2, 3]-->[2, 3]
BORDER

================================================
RND, ROT, Rk gates draw and list test===========
================================================
q000 -[RND]------------
                       
q001 -------[ROT]------
                       
q002 -------------[Rk]-
                       
q003 ------------------
                       
creg ==================
                       
RND:[0]
ROT(0.7850):[1]
Rk(3):[2]
