================================================
Composing circuits from subcircuits ============
================================================

subcircuit--------------------------------------
ckt01
q000 -[H]-[.]--#-
           |   # 
q001 -----[X]--#-
               # 
creg ==========#=
               # 
H:[0]
CX:[0, 1]
BORDER
subcircuit with QFT ----------------------------
ckt02
q000 -[QFT  ]-----[Y]------#-
      |     |              # 
q001 -|-----|--------------#-
      |     |              # 
q002 -[QFT M]-[X]----------#-
      |     |              # 
q003 -[QFT L]---------[Z]--#-
                           # 
creg ======================#=
                           # 
QFT:[2, 0, 3]
X:[2]
Y:[0]
Z:[3]
BORDER
fragment of the final circuit-------------------
ckt03
q000 ----------#-
               # 
q001 ----------#-
               # 
q002 -[M]------#-
       |       # 
q003 --|--[M]--#-
       |   |   # 
creg ==v===v===#=
               # 
M:[2, 3]:[2, 3]
BORDER
realigned subcircuit----------------------------
q000 ----------#-
               # 
q001 ----------#-
               # 
q002 -[H]-[.]--#-
           |   # 
q003 -----[X]--#-
               # 
creg ==========#=
               # 
H:[2]
CX:[2, 3]
BORDER
realigned subcircuit----------------------------
q000 ----------------------#-
                           # 
q001 -[QFT L]---------[Z]--#-
      |     |              # 
q002 -[QFT  ]-----[Y]------#-
      |     |              # 
q003 -[QFT M]-[X]----------#-
                           # 
creg ======================#=
                           # 
QFT:[3, 2, 1]
X:[3]
Y:[2]
Z:[1]
BORDER
Overall circuit---------------------------------
q000 ----------#----------------------#----------#-
               #                      #          # 
q001 ----------#-[QFT L]---------[Z]--#----------#-
               # |     |              #          # 
q002 -[H]-[.]--#-[QFT  ]-----[Y]------#-[M]------#-
           |   # |     |              #  |       # 
q003 -----[X]--#-[QFT M]-[X]----------#--|--[M]--#-
               #                      #  |   |   # 
creg ==========#======================#==v===v===#=
               #                      #          # 
H:[2]
CX:[2, 3]
BORDER
QFT:[3, 2, 1]
X:[3]
Y:[2]
Z:[1]
BORDER
M:[2, 3]:[2, 3]
BORDER

================================================
RND, P, UROTk gates draw and list test===========
================================================
q000 -[RND]-----[.]---------[UROTk]-----[.]-[X]-
                 |             |         |   |  
q001 -------[P]--|-------------|----[*]--|---|--
                 |             |     |   |   |  
q002 ------------|--[UROTk]---[.]----|--[.]-[.]-
                 |                   |   |   |  
q003 -----------[P]-----------------[*]-[X]-[.]-
                                                
creg ===========================================
                                                
RND:[0]
P|0.7850:[1]
CP|0.3925:[0, 3]
UROTk|3:[2]
CROTk|3:[2, 0]
SWAP:[1, 3]
CCX:[0, 2, 3]
CCX:[2, 3, 0]
q000 ---------------[UROTk]---[.]-------[.]-[.]-
                               |         |   |  
q001 -[RND]-----[.]---------[UROTk]-----[.]-[X]-
                 |                       |   |  
q002 -------[P]--|------------------[*]--|---|--
                 |                   |   |   |  
q003 -----------[P]-----------------[*]-[X]-[.]-
                                                
q004 -------------------------------------------
                                                
q005 -------------------------------------------
                                                
creg ===========================================
                                                
RND:[1]
P|0.7850:[2]
CP|0.3925:[1, 3]
UROTk|3:[0]
CROTk|3:[0, 1]
SWAP:[2, 3]
CCX:[1, 0, 3]
CCX:[0, 3, 1]

================================================================
multiple inputs X, Y, Z, H, P, UROTk gates draw and list test===
================================================================
X:[[0, 1, 2, 3]]
Y:[[1, 2, 3, 4]]
Z:[[2, 3, 4, 5]]
H:[[3, 4, 5, 6]]
P|1.5700:[[4, 5, 6, 7]]
UROTk|2:[[2, 3, 4, 5, 6, 7]]
q000 -[X]-------------------------
                                  
q001 -[X]-[Y]---------------------
                                  
q002 -[X]-[Y]-[Z]---------[UROTk]-
                                  
q003 -[X]-[Y]-[Z]-[H]-----[UROTk]-
                                  
q004 -----[Y]-[Z]-[H]-[P]-[UROTk]-
                                  
q005 ---------[Z]-[H]-[P]-[UROTk]-
                                  
q006 -------------[H]-[P]-[UROTk]-
                                  
q007 -----------------[P]-[UROTk]-
                                  
creg =============================
                                  
